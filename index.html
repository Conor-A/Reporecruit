<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RepoRecruit ‚Äî GitHub Talent Sourcing</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&family=DM+Serif+Display:ital@0;1&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  :root {
    --bg: #0a0b0e; --surface: #111318; --surface2: #181b22;
    --border: #1f2330; --border2: #2a2f40;
    --accent: #00e5a0; --accent2: #0087ff; --warn: #ff6b35;
    --text: #e8eaf0; --text2: #8892a4; --text3: #4a5568;
  }
  html, body, #root { height: 100%; }
  body { background: var(--bg); color: var(--text); font-family: 'JetBrains Mono', monospace; }
  .grid-bg {
    position: fixed; inset: 0; pointer-events: none; z-index: 0;
    background-image: linear-gradient(rgba(0,229,160,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(0,229,160,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
  }
  .wrap { position: relative; z-index: 1; max-width: 1100px; margin: 0 auto; padding: 0 24px; }
  header { border-bottom: 1px solid var(--border); padding: 16px 0; position: sticky; top: 0; background: rgba(10,11,14,0.95); backdrop-filter: blur(12px); z-index: 100; }
  .header-inner { display: flex; align-items: center; justify-content: space-between; }
  .logo { display: flex; align-items: baseline; gap: 8px; }
  .logo-mark { font-family: 'DM Serif Display', serif; font-size: 22px; color: var(--accent); }
  .logo-tag { font-size: 10px; color: var(--text3); letter-spacing: 2px; text-transform: uppercase; }
  .status-pill { display: flex; align-items: center; gap: 6px; font-size: 11px; color: var(--text2); background: var(--surface); border: 1px solid var(--border); padding: 4px 12px; border-radius: 20px; }
  .dot { width: 6px; height: 6px; border-radius: 50%; background: var(--accent); animation: pulse 2s infinite; }
  @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.3} }
  .hero { padding: 48px 0 36px; text-align: center; }
  .eyebrow { font-size: 11px; letter-spacing: 3px; text-transform: uppercase; color: var(--accent); margin-bottom: 16px; }
  .hero-title { font-family: 'DM Serif Display', serif; font-size: clamp(32px,5vw,52px); line-height: 1.1; margin-bottom: 14px; }
  .hero-title em { font-style: italic; color: var(--accent); }
  .hero-sub { font-size: 13px; color: var(--text2); line-height: 1.7; max-width: 480px; margin: 0 auto 36px; }
  .search-card { background: var(--surface); border: 1px solid var(--border2); border-radius: 8px; padding: 24px; max-width: 680px; margin: 0 auto 48px; }
  .field-label { font-size: 10px; letter-spacing: 2px; text-transform: uppercase; color: var(--text3); margin-bottom: 8px; }
  .input-row { display: flex; gap: 10px; }
  .repo-input, .token-input {
    flex: 1; background: var(--bg); border: 1px solid var(--border2); border-radius: 4px;
    color: var(--text); font-family: 'JetBrains Mono', monospace; font-size: 14px;
    padding: 11px 14px; outline: none; transition: border-color 0.2s; width: 100%;
  }
  .repo-input:focus, .token-input:focus { border-color: var(--accent); }
  .repo-input::placeholder, .token-input::placeholder { color: var(--text3); }
  .search-btn {
    background: var(--accent); border: none; border-radius: 4px; color: #0a0b0e; cursor: pointer;
    font-family: 'JetBrains Mono', monospace; font-size: 12px; font-weight: 700;
    letter-spacing: 1px; padding: 11px 22px; text-transform: uppercase; transition: all 0.2s; white-space: nowrap;
  }
  .search-btn:hover:not(:disabled) { background: #00ffb3; transform: translateY(-1px); }
  .search-btn:disabled { opacity: 0.4; cursor: not-allowed; transform: none; }
  .hint { margin-top: 8px; font-size: 11px; color: var(--text3); }
  .hint span { color: var(--text2); }
  .token-row { margin-top: 14px; padding-top: 14px; border-top: 1px solid var(--border); }
  .token-note { margin-top: 6px; font-size: 10px; color: var(--text3); line-height: 1.6; }
  .token-note a { color: var(--accent2); }
  .error-box { background: rgba(255,107,53,0.08); border: 1px solid rgba(255,107,53,0.3); border-radius: 4px; padding: 14px 18px; font-size: 12px; color: var(--warn); margin-bottom: 20px; max-width: 680px; margin-left: auto; margin-right: auto; }
  .loader { text-align: center; padding: 48px 0; }
  .loader-bar { width: 200px; height: 2px; background: var(--border2); border-radius: 2px; margin: 0 auto 18px; overflow: hidden; position: relative; }
  .loader-fill { position: absolute; top: 0; left: 0; width: 60px; height: 100%; background: var(--accent); animation: slide 1s ease-in-out infinite; }
  @keyframes slide { 0%{transform:translateX(-60px)} 100%{transform:translateX(200px)} }
  .loader-text { font-size: 12px; color: var(--text2); }
  .loader-sub { font-size: 11px; color: var(--text3); margin-top: 6px; }
  .repo-banner { display: flex; align-items: center; gap: 20px; flex-wrap: wrap; background: var(--surface); border: 1px solid var(--border2); border-radius: 6px; padding: 14px 18px; margin-bottom: 18px; }
  .repo-title { font-family: 'DM Serif Display', serif; font-size: 18px; }
  .repo-stat { display: flex; align-items: center; gap: 5px; font-size: 12px; color: var(--text2); }
  .stats-bar { display: flex; gap: 14px; margin-bottom: 20px; flex-wrap: wrap; }
  .stat { background: var(--surface); border: 1px solid var(--border); border-radius: 6px; padding: 12px 18px; flex: 1; min-width: 110px; }
  .stat-num { font-family: 'DM Serif Display', serif; font-size: 26px; line-height: 1; margin-bottom: 4px; }
  .stat-label { font-size: 10px; letter-spacing: 1.5px; text-transform: uppercase; color: var(--text3); }
  .results-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; flex-wrap: wrap; gap: 10px; }
  .results-meta { display: flex; align-items: center; gap: 10px; }
  .results-title { font-family: 'DM Serif Display', serif; font-size: 20px; }
  .count-pill { background: var(--surface2); border: 1px solid var(--border2); border-radius: 20px; font-size: 11px; color: var(--accent); padding: 3px 10px; }
  .btn-group { display: flex; gap: 8px; }
  .outline-btn { background: transparent; border: 1px solid var(--border2); border-radius: 4px; color: var(--text2); cursor: pointer; font-family: 'JetBrains Mono', monospace; font-size: 11px; letter-spacing: 1px; padding: 7px 14px; text-transform: uppercase; transition: all 0.2s; }
  .outline-btn:hover { border-color: var(--accent); color: var(--accent); }
  .filters { display: flex; gap: 8px; margin-bottom: 16px; flex-wrap: wrap; }
  .filter-btn { background: var(--surface); border: 1px solid var(--border); border-radius: 20px; color: var(--text2); cursor: pointer; font-family: 'JetBrains Mono', monospace; font-size: 11px; padding: 5px 14px; transition: all 0.2s; }
  .filter-btn.active { border-color: var(--accent); color: var(--accent); background: rgba(0,229,160,0.06); }
  .table-wrap { overflow-x: auto; border: 1px solid var(--border); border-radius: 8px; margin-bottom: 48px; }
  table { width: 100%; border-collapse: collapse; font-size: 13px; }
  thead { background: var(--surface2); border-bottom: 1px solid var(--border2); }
  th { text-align: left; padding: 11px 14px; font-size: 10px; letter-spacing: 2px; text-transform: uppercase; color: var(--text3); white-space: nowrap; }
  tbody tr { border-bottom: 1px solid var(--border); transition: background 0.15s; }
  tbody tr:last-child { border-bottom: none; }
  tbody tr:hover { background: var(--surface2); }
  td { padding: 12px 14px; vertical-align: middle; }
  .avatar-cell { display: flex; align-items: center; gap: 10px; }
  .avatar { width: 34px; height: 34px; border-radius: 50%; border: 1px solid var(--border2); object-fit: cover; flex-shrink: 0; }
  .name-text { font-weight: 500; }
  .sub-text { font-size: 11px; color: var(--text3); margin-top: 2px; }
  .handle-link { color: var(--accent2); text-decoration: none; }
  .handle-link:hover { opacity: 0.7; }
  .email-link { color: var(--accent); text-decoration: none; font-size: 12px; }
  .email-link:hover { opacity: 0.7; }
  .no-val { color: var(--text3); font-size: 12px; }
  .commits-badge { background: var(--surface2); border: 1px solid var(--border); border-radius: 4px; color: var(--text2); font-size: 12px; padding: 3px 8px; }
  .li-btn { display: inline-flex; align-items: center; gap: 5px; background: rgba(0,135,255,0.08); border: 1px solid rgba(0,135,255,0.25); border-radius: 4px; color: var(--accent2); font-family: 'JetBrains Mono', monospace; font-size: 10px; padding: 4px 10px; text-decoration: none; transition: all 0.2s; }
  .li-btn:hover { background: rgba(0,135,255,0.18); }
  footer { border-top: 1px solid var(--border); padding: 24px 0; text-align: center; font-size: 11px; color: var(--text3); line-height: 1.8; }
</style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const { useState, useCallback } = React;

function liSearch(c) {
  const name = c.name && c.name !== c.login ? c.name : c.login;
  return `https://www.google.com/search?q=${encodeURIComponent('"' + name + '" site:linkedin.com/in')}`;
}

function download(filename, content, type) {
  const a = document.createElement('a');
  a.href = URL.createObjectURL(new Blob([content], { type }));
  a.download = filename;
  a.click();
}

function App() {
  const [repoInput, setRepoInput] = useState('');
  const [tokenInput, setTokenInput] = useState('');
  const [loading, setLoading] = useState(false);
  const [loadingText, setLoadingText] = useState('');
  const [loadingSubtext, setLoadingSubtext] = useState('');
  const [error, setError] = useState('');
  const [contributors, setContributors] = useState([]);
  const [repoInfo, setRepoInfo] = useState(null);
  const [filter, setFilter] = useState('all');

  const filtered = filter === 'email' ? contributors.filter(c => c.email)
    : filter === 'noemail' ? contributors.filter(c => !c.email)
    : contributors;

  const search = useCallback(async () => {
    const input = repoInput.trim();
    const token = tokenInput.trim();
    setError(''); setContributors([]); setRepoInfo(null);

    if (!input.includes('/')) {
      setError('Please enter a valid repo as owner/repository ‚Äî e.g. vercel/next.js'); return;
    }
    const parts = input.split('/');
    const owner = parts[0].trim();
    const repo = parts[1].trim();
    if (!owner || !repo) {
      setError('Please enter a valid repo as owner/repository ‚Äî e.g. vercel/next.js'); return;
    }

    const headers = { 'Accept': 'application/vnd.github.v3+json' };
    if (token) headers['Authorization'] = 'Bearer ' + token;

    setLoading(true);
    try {
      setLoadingText('Fetching repository info...'); setLoadingSubtext('');
      const repoRes = await fetch('https://api.github.com/repos/' + owner + '/' + repo, { headers });
      if (!repoRes.ok) {
        const err = await repoRes.json().catch(() => ({}));
        throw new Error(
          repoRes.status === 404 ? 'Repository "' + owner + '/' + repo + '" not found. Check the spelling.'
          : repoRes.status === 403 ? 'Rate limit hit. Add a GitHub Personal Access Token to continue.'
          : repoRes.status === 401 ? 'Invalid token. Check it and try again.'
          : err.message || 'GitHub API error (' + repoRes.status + ')'
        );
      }
      const repoData = await repoRes.json();
      setRepoInfo(repoData);

      setLoadingText('Fetching contributors...'); setLoadingSubtext('May take a moment for large repos');
      let all = [];
      for (let page = 1; page <= 5; page++) {
        const res = await fetch('https://api.github.com/repos/' + owner + '/' + repo + '/contributors?per_page=100&page=' + page + '&anon=false', { headers });
        if (!res.ok) { const e = await res.json().catch(() => ({})); throw new Error(e.message || 'Failed to fetch contributors'); }
        const data = await res.json();
        if (!Array.isArray(data) || data.length === 0) break;
        all = all.concat(data);
        if (data.length < 100) break;
      }
      if (all.length === 0) throw new Error('No contributors found for this repository.');

      setLoadingText('Enriching ' + all.length + ' profiles...'); setLoadingSubtext('Fetching public user data');
      const enriched = [];
      const batchSize = 8;
      for (let i = 0; i < all.length; i += batchSize) {
        const batch = all.slice(i, i + batchSize);
        const results = await Promise.all(batch.map(async (c) => {
          try {
            const r = await fetch('https://api.github.com/users/' + c.login, { headers });
            if (!r.ok) return { ...c, name: c.login, email: null, location: null, company: null };
            const p = await r.json();
            return { login: c.login, avatar_url: c.avatar_url, html_url: c.html_url, contributions: c.contributions, name: p.name || c.login, email: p.email || null, location: p.location || null, company: p.company || null };
          } catch { return { ...c, name: c.login, email: null, location: null, company: null }; }
        }));
        enriched.push(...results);
        setLoadingText('Enriched ' + Math.min(i + batchSize, all.length) + ' / ' + all.length + ' profiles...');
      }
      setContributors(enriched);
    } catch(e) {
      setError(e.message);
    } finally {
      setLoading(false);
    }
  }, [repoInput, tokenInput]);

  const withEmail = contributors.filter(c => c.email).length;
  const withLocation = contributors.filter(c => c.location).length;
  const totalCommits = contributors.reduce((s, c) => s + c.contributions, 0);

  const exportCSV = () => {
    const rows = [['Name','GitHub Handle','GitHub URL','Email','Location','Company','Commits','LinkedIn Search'], ...filtered.map(c => [c.name||c.login,'@'+c.login,c.html_url,c.email||'',c.location||'',c.company||'',c.contributions,liSearch(c)]).map(r => r.map(v => '"'+String(v).replace(/"/g,'""')+'"').join(','))];
    download('repocruit-export.csv', rows.join('\n'), 'text/csv');
  };
  const exportJSON = () => {
    download('repocruit-export.json', JSON.stringify(filtered.map(c => ({ name: c.name||c.login, handle: c.login, github_url: c.html_url, email: c.email, location: c.location, company: c.company, commits: c.contributions, linkedin_search: liSearch(c) })), null, 2), 'application/json');
  };

  return (
    <div style={{minHeight:'100vh',background:'var(--bg)'}}>
      <div className="grid-bg" />
      <header>
        <div className="wrap">
          <div className="header-inner">
            <div className="logo">
              <span className="logo-mark">RepoRecruit</span>
              <span className="logo-tag">GitHub Talent Sourcing</span>
            </div>
            <div className="status-pill"><div className="dot" /> GitHub API Live</div>
          </div>
        </div>
      </header>

      <div className="wrap">
        <div className="hero">
          <p className="eyebrow">// Recruiter Intelligence Tool</p>
          <h1 className="hero-title">Find <em>real talent</em><br />from real code</h1>
          <p className="hero-sub">Enter any public GitHub repository to surface contributors ‚Äî names, handles, contact info, and LinkedIn search links.</p>
        </div>

        <div className="search-card">
          <div className="field-label">// Repository</div>
          <div className="input-row">
            <input className="repo-input" type="text" value={repoInput} onChange={e => setRepoInput(e.target.value)} onKeyDown={e => e.key==='Enter' && !loading && search()} placeholder="owner/repository ‚Äî e.g. vercel/next.js" autoComplete="off" spellCheck={false} />
            <button className="search-btn" onClick={search} disabled={loading}>{loading ? '...' : 'Search ‚Üí'}</button>
          </div>
          <p className="hint">Try <span>torvalds/linux</span>, <span>facebook/react</span>, or <span>microsoft/vscode</span></p>
          <div className="token-row">
            <div className="field-label">// GitHub Token <span style={{color:'var(--text3)',fontSize:'9px'}}>(optional ‚Äî raises rate limit 60 ‚Üí 5,000/hr)</span></div>
            <input className="token-input" type="password" value={tokenInput} onChange={e => setTokenInput(e.target.value)} placeholder="ghp_xxxxxxxxxxxx" />
            <p className="token-note">Never stored ‚Äî only sent to GitHub's API in your browser. <a href="https://github.com/settings/tokens/new?scopes=read:user&description=RepoRecruit" target="_blank">Generate one here ‚Üí</a></p>
          </div>
        </div>

        {error && <div className="error-box">‚ö† {error}</div>}

        {loading && (
          <div className="loader">
            <div className="loader-bar"><div className="loader-fill" /></div>
            <p className="loader-text">{loadingText}</p>
            {loadingSubtext && <p className="loader-sub">{loadingSubtext}</p>}
          </div>
        )}

        {contributors.length > 0 && !loading && (
          <>
            {repoInfo && (
              <div className="repo-banner">
                <div><div className="field-label">// Repository</div><div className="repo-title">{repoInfo.full_name}</div></div>
                <div className="repo-stat">‚≠ê {(repoInfo.stargazers_count||0).toLocaleString()} stars</div>
                <div className="repo-stat">üç¥ {(repoInfo.forks_count||0).toLocaleString()} forks</div>
                {repoInfo.language && <div className="repo-stat">{'{ }'} {repoInfo.language}</div>}
                <a className="li-btn" href={repoInfo.html_url} target="_blank">View on GitHub ‚Üó</a>
              </div>
            )}
            <div className="stats-bar">
              <div className="stat"><div className="stat-num" style={{color:'var(--text)'}}>{contributors.length}</div><div className="stat-label">Contributors</div></div>
              <div className="stat"><div className="stat-num" style={{color:'var(--accent)'}}>{withEmail}</div><div className="stat-label">Public Emails</div></div>
              <div className="stat"><div className="stat-num" style={{color:'var(--accent2)'}}>{withLocation}</div><div className="stat-label">With Location</div></div>
              <div className="stat"><div className="stat-num" style={{color:'#a78bfa'}}>{totalCommits.toLocaleString()}</div><div className="stat-label">Total Commits</div></div>
            </div>
            <div className="results-header">
              <div className="results-meta">
                <h2 className="results-title">Contributors</h2>
                <span className="count-pill">{filtered.length}</span>
              </div>
              <div className="btn-group">
                <button className="outline-btn" onClick={exportCSV}>Export CSV</button>
                <button className="outline-btn" onClick={exportJSON}>Export JSON</button>
              </div>
            </div>
            <div className="filters">
              {[['all','All'],['email','Has Email'],['noemail','No Email']].map(([val,label]) => (
                <button key={val} className={'filter-btn' + (filter===val?' active':'')} onClick={() => setFilter(val)}>{label}</button>
              ))}
            </div>
            <div className="table-wrap">
              <table>
                <thead>
                  <tr><th>Contributor</th><th>GitHub Handle</th><th>Email</th><th>Commits</th><th>Location</th><th>LinkedIn</th></tr>
                </thead>
                <tbody>
                  {filtered.map(c => (
                    <tr key={c.login}>
                      <td>
                        <div className="avatar-cell">
                          <img className="avatar" src={c.avatar_url} alt={c.login} loading="lazy" />
                          <div>
                            <div className="name-text">{c.name || c.login}</div>
                            {c.company && <div className="sub-text">{c.company}</div>}
                          </div>
                        </div>
                      </td>
                      <td><a className="handle-link" href={c.html_url} target="_blank">@{c.login}</a></td>
                      <td>{c.email ? <a className="email-link" href={'mailto:'+c.email}>{c.email}</a> : <span className="no-val">‚Äî</span>}</td>
                      <td><span className="commits-badge">{c.contributions.toLocaleString()}</span></td>
                      <td><span style={{fontSize:'12px',color:'var(--text2)'}}>{c.location || <span className="no-val">‚Äî</span>}</span></td>
                      <td><a className="li-btn" href={liSearch(c)} target="_blank">Search ‚Üó</a></td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </>
        )}
      </div>

      <footer>
        <div className="wrap">
          RepoRecruit ‚Äî Data sourced from the public GitHub API.<br />
          Only publicly disclosed information is shown. Reach out via GitHub ‚Äî not scraped emails.
        </div>
      </footer>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(<App />);
</script>
</body>
</html>
